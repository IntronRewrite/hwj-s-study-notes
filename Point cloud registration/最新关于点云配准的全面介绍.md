# 综述|2021 最新关于点云配准的全面介绍

## **摘要**

1. 点云配准是点云之间的 **变换估计** 问题

2. **深度学习** 的成功极大地提高了配准的鲁棒性和效率。
3. 对基于 **优化** 的学习方法与 **深度学习** 方法进行全面的回顾，并建立两者之间的联系，以提供进一步的研究启示。

4. 建立了一个新的 **基准** 来评价现有的配准算法。

5. 总结了基准数据集
6. 跨不同领域的点云配准的应用
7. 潜在研究方向

|项目|内容|
|--|--|
|📖研究背景| PCR中涉及确定一个刚性变换，将一个点云与另一个对齐。尽管已提出了大量优秀的基于深度学习（DL）的配准方法，但对基于DL的PCR技术进行全面系统的研究仍然缺乏。|
|🎯研究目的| 提出对最近提出的PCR方法进行全面调查和分类。|
|✍️研究方法| 进行常用数据集和评估指标的分类，将现有研究分为两大类别：监督式和无监督式配准，提供对各种有影响力的PCR模型核心概念的洞察。|
|🕊️研究对象| 基于深度学习的PCR方法。|
|🔍研究结论| 对基于DL的PCR技术进行了全面的调查和分类，并强调了未来研究的挑战和潜在方向。|
|⭐创新点| 提供了有价值的资源收集，可在 https://github.com/yxzhang15/PCR获取。 |

## **介绍**

> [!NOTE]
>
> ​	点云配准是一种将多个视角的点云数据（即由点构成的云状数据，每个点包含位置信息）对齐到一个**共同坐标系**中的过程。

​	**点云** 已成为表征三维世界的主要数据格式。由于传感器只能在 **有限的视野范围** 内扫描获取数据，因此需要采用 **配准算法** 生成完整的 **三维场景**。



<u>**点云配准作用：**</u>

1. **三维重建**

点云配准可以为机器人应用中的路线规划和决策构建三维环境

2. **三维定位**

点云配准可以将当前的实时三维点云精确匹配到所属的三维环境中，提供高精度的定位服务。

3. **姿态估计**

​	将一个点云A（3D实时视图）与另一个点云B（3D环境）对齐，可以生成与点云B相对的点云A的姿态信息，这些姿态信息可用于机器人的决策。



从**优化的角度**对配准问题进行了深入的研究[5]、[6]、[24]、[33]、[44]、[47]、[54]、[90]、[104].

- 现有的配准方法大多是通过**对应搜索**和**变换估计**两个过程来减小几何投影误差。这两个过程**交替进行**，直到几何重投影误差最小。
- 三维点云深度学习[114]、[20]、[17]、[107]、[96].这些技术的目的是**提取三维点云的特征**并找到精确的对应关系。然后，使用这些对应关系来估计具有单独变换估计阶段的变换。端到端的框架中还结合了传统的**配准优化策略**和深度学习技术[40]、[16]、[3]、[99]。



**跨源点云配准**成为一个新兴的研究课题。每种三维传感器都有其独特的优点和局限性。

- Kinect可以生成密集的点云，而测量范围通常限制为5米。
- 激光雷达在生成稀疏点云的同时具有很长的视距。



**<u>写作原因：</u>**

目前对**点云配准的研究较少**[15]、[78]、[87]，且主要集中在**传统**点云配准的观点上。

跨源点云配准的**最新发展**还没有被综述

传统的深度学习方法和现代深度学习方法之间的**联系**也没有被分析。

**<u>文章贡献：</u>**

对点云配准技术（1992-2021年）的发展进行了全面的综述

包括同源和跨源、传统的优化方法和现有的深度学习方法。

还总结了优化策略和深度学习技术之间的联系

建立一个基准，以评估最新的最先进的配准算法上的跨源数据集。



![思维导图_1730875524549](https://admin-hwj.oss-cn-beijing.aliyuncs.com/img/202411061714565.svg)

## 点云配准的挑战

### 同源点云配准

### 跨源点云配准

## 点云配准方法的分类

基于优化的配准方法

特征学习的配准方法

基于端到端学习的方法



跨源点云配准方法

基于优化的配准方法

特征学习配准方法

基于端到端学习的配准



基于优化的方法与深度学习之间的联系

深度学习技术可以作为一种**特征提取工具**来代替原始点坐标。传统的优化方法为**算法**的收敛性提供了理论保证。

首先，提出了一种改进的损失计算策略，利用优化策略从学习到的特征中计算出一个估计的变换。其次，计算估计变换与地面真值之间的损失。



定义

PCR的目标是找到最佳的旋转$\boldsymbol{R}^*$和平移$t^*$参数，使源点云$X\in\mathbb{R}^{N\times3}$和目标点云$Y\in\mathbb{R}^{M\times3}$对齐。在这里，$N$和$M$分别表示$X$和$Y$中的点数。PCR过程的数学目标由

$$
(R^*,t^*)=\underset{R\in SO(3),t\in\mathbb{R}^3}{\operatorname*{argmin}}\sum_{p=1}^P\|(Rx_p+t)-y_p\|^2
$$


其 中$x_p,y_p\in\mathbb{R}^{1\times3}$是$X$和$Y$中 的第$p$个点，而$P$表示$X$和$Y$之间对应的数量。



数据集

合成数据集缺乏现实世界场景中的复杂性和可变性，真实数据集有利于鲁棒性

人工合成

合成点云数据集通常由使用计算机图形技术复制真实世界环境创建的虚拟模型组成。

对象级ModelNet40，ShapeNet

场景级数据集ICL-NUIM ，FlyingShapes 

真实仪器获取

Stanford，KITTI ，Apollo-SouthBay ，ScanObjectNN ，WHU-TLS 

包括合成扫描和真实扫描

3DMatch

Table 2总结了各种数据集的属性。

| 数据集        | 类型     | 数量 |  来源                |
| :-------------: | :------: | :--: | :-------------------: |
| Stanford       | 真实     | 10   | Curless和Levoy（1996） |
| ETH            | 真实     | 36   | Pomerleau等（2012）    |
| KITTI          | 真实     | 22   | Geiger等（2012）       |
| ModelNet40     | 合成     | 12311| Wu等（2015）           |
| ShapeNet       | 合成     | 55000| Chang等（2015）        |
| ICL-NUIM       | 合成     | 8    | Choi等（2015）         |
| 3DMatch        | 合成真实 | 62   | Zeng等（2017）          |
| Apollo-SouthBay| 真实     | 6    | Lu等（2019b）           |
| ScanObjectNN   | 真实     | 15000| Uy等（2019）           |
| WHU-TLS        | 真实     | 115  | Dong等（2020）         |
| FlyingShapes   | 合成     | 200  | Chen等（2023b）        |

评价指标

对象级点云

| 度量指标                                 |                           计算公式                           |
| ---------------------------------------- | :----------------------------------------------------------: |
| 均方根误差 (RMSE)                        | $\mathrm{MSE}=\frac1N\sum_{i=1}^N\|p_i-q_i\|^2\\其中,p_i 和 q_i 分别为配准前后对应点对，N为点的数量。$ |
| 均方误差 (MSE)                           | $\mathrm{MSE}=\frac1N\sum_{i=1}^N\|p_i-q_i\|^2\\同样，p_i和q_j为配准前后对应点对，N为点数。$ |
| 平均各向同性误差（Mean Isotropic Error） | $\text{Mean Isotropic Error}=\frac1N\sum_{i=1}^N\|T(p_i)-q_i\|\\其中，T(p_i)为变换后的点$ |
| 平均绝对误差 (MAE)                       | $\mathrm{MAE}=\frac1N\sum_{i=1}^N|p_i-q_i|\\同样，p_i和q_j为配准前后对应点对，N为点数。$ |
| 倒角距离 (Chamfer Distance, CD)          | $\mathrm{CD}(P,Q)=\frac{1}{|P|}\sum_{p\in P}\min_{q\in Q}\|p-q\|^2+\\\frac{1}{|Q|}\sum_{q\in Q}\min_{p\in P}\|q-p\|^2\\其中，P和Q分别为两个点集，|P|和|Q|为各自点的数量。$ |
| 决定系数                                 | $R^2=1-\frac{\sum_{i=1}^N(y_i-\hat{y}_i)^2}{\sum_{i=1}^N(y_i-\bar{y})^2}\\\text{其中,}y_i\text{ 为真实值,}\hat{y}_i\text{ 为预测值,}\bar{y}\text{ 为真实值的均值。}$ |



场景级点云

| **度量指标**                                     |                         **计算公式**                         |
| ------------------------------------------------ | :----------------------------------------------------------: |
| $配准召回率\\（Registration Recall）$            | $\mathrm{MSE}=\frac1N\sum_{i=1}^N\|p_i-q_i\|^2\\其中,p_i 和 q_i 分别为配准前后对应点对，N为点的数量。$ |
| $内点比\\（Inlier Ratio）$                       | $\text{Inlier Ratio}=\frac{\text{number of inliers}}{\text{total number of correspondences}}\\其中，内点是指误差小于给定阈值的点对。$ |
| $特征匹配召回率\\（Feature Matching Recall）$    | $\text{Registration Recall}=\frac{\text{Number of Correctly Registered Pairs}}{\text{Total Number of Point Pairs}}$ |
| $相对旋转误差\\（Relative Rotation Error, RRE）$ | $\mathrm{RRE}=\|R_{\mathrm{est}}-R_{\mathrm{gt}}\|_F\\\text{其中,}R_{\mathrm{est}}\text{ 和 }R_{\mathrm{gt}}\text{ 分别为估计的旋转矩阵和真实的旋转矩阵,}\|\cdot\|_{F}\text{ 表示 Frobenius 范数。}$ |
| $平移误差\\（Translation Error, TE）$            | $\mathrm{TE}=\|t_\mathrm{est}-t_\mathrm{gt}\|\\其中，t_\mathrm{est}和t_\mathrm{gt}分别为估计的平移向量和真实的平移向量。$ |



## 开放性问题和未来方向

基于以上文献综述和应用综述，开放性问题有两个方面：

（1）通过克服**相同来源**和**跨来源**的挑战，实现高精度和鲁棒的配准。

（2） **运行速度**快，**精度**高。在这一部分，我们提出了四个未来的研究方向。

- 鲁棒准确的配准，点云是三维环境的记录。然而，由于噪声和异常值的变化，实际数据非常复杂。这些变化可能来自不同采集时间的传感器或环境变化。
- 效率，配准效率是另一个有待研究的问题，也是今后的研究方向。最近的点云通常包含数百万个点，传统的优化方法如ICP将非常缓慢。然而，目前许多先进的方法都要求ICP进行细化以获得较高的精度。
- 部分重叠部分重叠表示只有部分点云描述相同的三维环境，而其他部分则不同。部分重叠率可能非常小，例如小于20%。这种重叠率将是非常具有挑战性的，因为重叠率的搜索是一个组合问题，即使是我们的人类需要很多时间来手动对齐两个部分重叠的点云以找到公共区域。
- 深度学习与配准数学理论的融合，已有的许多实验[35]、[6]、[41]表明，直接应用配准数学理论会耗费大量的计算时间，而直接应用深度学习并不能保证精度。直接结合深度学习和ICP仍然需要消耗很多的计算时间。

最新的1-2，工业生产，有代码

